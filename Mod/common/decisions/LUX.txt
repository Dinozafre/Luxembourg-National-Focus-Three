political_actions = {
	#manipulation of elections
	LUX_cancel_elections = {
		icon = generic_break_treaty

		visible = {
			original_tag = LUX
			has_completed_focus = LUX_election_1937
			NOT = {
				has_country_flag = LUX_cancel_election_flag
			}
			has_elections = yes
			NOT = {
				has_completed_focus = LUX_return_elections
			}
		}
	
		available = {
            has_war = yes
		}
		days_remove = 1
		cost = 50
	    fire_only_once = no 
		days_re_enable = 1
		complete_effect = {
			set_politics = {
				ruling_party = ROOT
				elections_allowed = no
			}
			add_to_variable = {
				var = var_manipulation_of_elections
				value = 1
			}
			set_country_flag = LUX_cancel_election_flag
		}
		ai_will_do = {
			base = 5
			modifier = {
				add = 10
				is_historical_focus_on = yes
			}
			modifier = {
				add = 25
				is_government_in_exile = yes
			}
			modifier = {
				add = 25
				date > 1940.01.01
			}
		}
	}
	LUX_back_elections = {
		icon = generic_civil_support
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_election_1937
			has_country_flag = LUX_cancel_election_flag
			has_elections = no
			NOT = {
				has_completed_focus = LUX_return_elections
			}
		}
		available = {
            has_war = no
			is_government_in_exile = no
		}
		days_remove = 1
		cost = 15
		fire_only_once = no
		days_re_enable = 1
		complete_effect = {
			set_politics = {
				ruling_party = ROOT
				elections_allowed = yes
			}
			clr_country_flag = LUX_cancel_election_flag
		}
		remove_effect = {

		}
		ai_will_do = {
			base = 5
		}
	}
	LUX_increase_emile_speller_to_field_marchel_mission = {
		priority = 100
		icon = generic_army_support
		activation = {
		 # has_country_flag = LUX_fascism_coup_success_flag
		  #	has_country_flag = emile_speller_agreed_flag
		  always = no
		}
		available = {
			LUX_Emile_Speller = {
				is_field_marshal = yes
			}
		}
		complete_effect = {
			LUX_Emile_Speller = {
				add_trait = {
					trait = trait_LUX_fascist_sympathizer
				}
			}
		}
		cancel_trigger = {
			OR = {
				AND = {
					NOT = {
						original_tag = LUX
					}
				}
				AND = {
					NOT = {
						has_government = fascism
					}
				}
			}
		}
		is_good = no
		timeout_effect = {
			# LUX_Emile_Speller = {
			#	 add_trait = {
			#		 trait = trait_cautious
			#	 }
			# }
			# add_command_power = -25
			country_event = LUX_fascism.14
		}
		fire_only_once = yes
		cancel_if_not_visible = no
		days_mission_timeout = 180
		# days_mission_timeout = 1
	}
	LUX_ask_to_peace_luxembourg = {
		icon = generic_break_treaty

		visible = {
			original_tag = LIB
            has_global_flag = luxembopurg_liberian_war_flag
		}
	
		available = {
			longest_war_length > 3
			has_war_with = FROM
		}
		cost = 25
	    fire_only_once = yes 
		complete_effect = {

		}
		remove_effect = {
			FROM = {
				country_event = {
					id = liberian_independs_war_events.0
					days = 2
					random_hours = 12
				}
			}
		}
		target_trigger = {
			FROM = {
				original_tag = LUX
			}
		}
		days_remove = 14
		ai_will_do = {
			base = 1
			modifier = {
				add = 1000
				longest_war_length > 4
			}
		}
	}
	LUX_ask_to_peace_liberian = {
		icon = generic_break_treaty

		visible = {
			original_tag = LUX
			has_global_flag = luxembopurg_liberian_war_flag
		}
	
		available = {
            has_war_with = FROM
			longest_war_length > 2
		}
		cost = 0
	    fire_only_once = yes 
		complete_effect = {

		}
		remove_effect = {
			FROM = {
				country_event = {
					id = liberian_independs_war_events.0
					days = 2
					random_hours = 12
				}
			}
		}
		target_trigger = {
			FROM = {
				original_tag = LIB
			}
		}
		days_remove = 14
		ai_will_do = {
			base = 1
			modifier = {
				add = 1000
				longest_war_length > 4
			}
		}
	}
	transfer_capital_to_7_state = {
		icon = eng_trade_unions_support
		visible = {
			original_tag = LUX
			controls_state = 7
			NOT = {
				has_country_flag = has_trasferd_capital_flondia_flag
			}
		}
		available = {
			has_full_control_of_state = 7
		}
		fire_only_once = yes
		complete_effect = {
			set_capital = { state = 7 }
			set_country_flag = has_trasferd_capital_holland_flag
		}
	}
	transfer_capital_to_6_state = {
		icon = eng_trade_unions_support
		visible = {
			original_tag = LUX
			controls_state = 6
			NOT = {
				has_country_flag = has_trasferd_capital_holland_flag
			}
		}
		available = {
			has_full_control_of_state = 6
		}
		fire_only_once = yes
		complete_effect = {
			set_capital = { state = 6 }
			set_country_flag = has_trasferd_capital_flondia_flag
		}
	}
}
LUX_shut_down_communist_category = {
	LUX_arrest_communist_members = {
		visible = { 
			original_tag = LUX
		}
		available = {
			has_idea = LUX_communism_resistence
			LUX_ruling_paarty_leader_joseph_bech = yes
		}
		icon = generic_political_address
		modifier = {
			communism_drift = -0.10
			political_power_cost = 0.15
		}
		fire_only_once = yes
		days_remove = 30
		cost = 200
		ai_will_do = {
			base = 10
		}
		complete_effect = {

		}
		remove_effect = {
			set_country_flag = LUX_communism_arrest_dicision_flag
			swap_ideas = {
				remove_idea = LUX_communism_resistence
				add_idea = LUX_communism_resistence2
			}
		}
	}
	LUX_arrest_communist_members_justice = {
		visible = { 
			original_tag = LUX
		}
		available = {
			has_country_flag = LUX_communism_arrest_dicision_flag
		}
		icon = generic_arrest
		modifier = {
			political_power_cost = 0.25
		}
		fire_only_once = yes
		days_remove = 140
		cost = 125
		ai_will_do = {
			base = 10
		}
		complete_effect = {
            set_country_flag = LUX_communism_arrest_dicision_justice_flag
		}
		remove_effect = {
			custom_effect_tooltip = communism_justice__diplomacy_tt
			hidden_effect = {
				every_possible_country = {
					limit = {
						has_government = communism
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = LUX_arrest_communism_mumbers
					}
				}
			}
			#if player yet not has this idea
			if = {
				limit = {
					has_idea = LUX_communism_resistence2
				}
				remove_ideas = LUX_communism_resistence2
			}
			
		}
	}
	LUX_communist_justice_end = {
		visible = { 
			original_tag = LUX
			always = no
		}
		available = {
			
		}
		icon = generic_arrest
		fire_only_once = yes
		cost = 125
		ai_will_do = {
			base = 10
		}
		complete_effect = {
          
		}
		remove_effect = {
            
		}
	}
}
#credits
#need make events for it
LUX_luximburg_credits_category = {
	LUX_credit_for_decision = {
		visible = { 
			original_tag = LUX
		}
		targets = {
			FRA
			BEL
		}
		available = {
			NOT = {
				has_war_with = FROM
			}
		    country_exists = FROM
		}
		icon = decision_luxemburg_credit
		fire_only_once = yes
		cost = 180
		ai_will_do = {
			base = 10
		}
		complete_effect = {
          
		}
		remove_effect = {
			if = {
				limit = {
					from = {
						original_tag = FRA
					}
				}
				add_timed_idea = {
					idea = lux_france_credit
					days = 730
				}
			add_opinion_modifier = {
				target = FROM
				modifier = LUX_pick_credit_opinion
			}
			from = {
				add_opinion_modifier = {
					target = ROOT
					modifier = LUX_france_credit_opinion
				}
			}
			set_country_flag = france_get_credit_flag
			}
			else_if = {
				limit = {
					from = {
						original_tag = BEL
					}
				 }
				 add_timed_idea = {
					idea = lux_belgum_credit
					days = 365
				}
			from = {
				add_opinion_modifier = {
					target = ROOT
					modifier = LUX_belgum_credit_opinion
				}
			}
			add_opinion_modifier = {
				target = from
				modifier = LUX_pick_credit_opinion
			}
			set_country_flag = belgum_get_credit_flag
			}
			add_offsite_building = {
				type = arms_factory
				level = 1
			}
	    }
	}
	LUX_credit_for_belgum_decision = {
		visible = { 
			original_tag = LUX
			always = no
		}
		available = {
			NOT = {
				has_war_with = BEL
			}
		    country_exists = BEL
		}
		icon = decision_luxemburg_credit
		fire_only_once = yes
		cost = 180
		ai_will_do = {
			base = 10
		}
		complete_effect = {
          
		}
		target_root_trigger = {

		}
		remove_effect = {
			add_timed_idea = {
				idea = lux_belgum_credit
				days = 365
			}
		BEL = {
			add_opinion_modifier = {
				target = ROOT
				modifier = LUX_belgum_credit_opinion
			}
		}
		add_opinion_modifier = {
			target = BEL
			modifier = LUX_pick_credit_opinion
		}
		set_country_flag = belgum_get_credit_flag
	    }
	}
}
#luxemburg referendums dicisions
#communist uprising in parts of world
LUX_luximburg_communism_uprising_category = {
	LUX_uprisng_decision_EU = {
		icon = generic_civil_support
		visible = { 
			original_tag = LUX
		}
		available = {
			FROM  = {
				LUX_triggers_check_FROM_uprising = yes
			}
			has_government = communism
		}
		modifier = {
			political_power_cost = 0.65
			political_power_gain = 0.95
			stability_factor = -0.02
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
				NOT = {
                    has_government = communism
					is_subject_of = ROOT
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		days_remove = 120
		fire_only_once = yes
		cost = 100
		ai_will_do = {
			base = 10
		}
		remove_effect = {
		    set_country_flag = LUX_start_communist_uprising
				FROM = {
					start_civil_war = {
						ideology = FROM
						ruling_party = communism
						keep_political_leader = yes
						keep_political_party_members = yes
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = comrade_revolution
					}
					add_ideas = spirit_revolution
					set_country_flag = general_start_workers_uprisng
				}
				set_autonomy = {
					target = FROM
					autonomous_state = autonomy_republic
					end_wars = no
					end_civil_wars = no
				}
	    }
	}
	#communist uprising in Latin America
	LUX_uprisng_decision_LatinAmerica = {
		icon = generic_civil_support
		visible = { 
			original_tag = LUX
		}
		available = {
			FROM  = {
				LUX_triggers_check_FROM_uprising = yes
			}
			has_government = communism
	    }
		modifier = {
			political_power_gain = -0.95
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
				NOT = {
                    has_government = communism
					is_subject_of = ROOT
				}
				capital_scope = {
				OR  ={
					is_on_continent = north_america
					is_on_continent = south_america
				}
				}
			}
		}
		days_remove = 120
		fire_only_once = yes
		cost = 150
		ai_will_do = {
			base = 10
		}
		remove_effect = {
		    set_country_flag = LUX_start_communist_uprising
				FROM = {
					start_civil_war = {
						ideology = FROM
						ruling_party = communism
						keep_political_leader = yes
						keep_political_party_members = yes
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = comrade_revolution
					}
					add_ideas = spirit_revolution
					set_country_flag = general_start_workers_uprisng
				}
				set_autonomy = {
					target = FROM
					autonomous_state = autonomy_republic
					end_wars = no
					end_civil_wars = no
				}
	    }
	}
	LUX_uprisng_decision_middle_east = {
		icon = generic_civil_support
		visible = { 
			original_tag = LUX 
		}
		available = {
			FROM  = { 
				LUX_triggers_check_FROM_uprising = yes
			} 
			has_government = communism
		}
		modifier = {
			political_power_gain = -0.95 
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
				NOT = {
                    has_government = communism
					is_subject_of = ROOT
				}
				capital_scope = {
					is_on_continent = middle_east
				}
			}
		}
		days_remove = 120
		fire_only_once = yes
		cost = 125
		ai_will_do = {
			base = 10
		}
		complete_effect = {}
		remove_effect = {
			FROM = {
				start_civil_war = {
					ideology = FROM
					ruling_party = communism
					keep_political_leader = yes
					keep_political_party_members = yes
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = comrade_revolution
				}
				add_ideas = spirit_revolution
				set_country_flag = general_start_workers_uprisng
			}
			set_autonomy = {
				target = FROM
				autonomous_state = autonomy_republic
				end_wars = no
				end_civil_wars = no
			}
		}
    }
	LUX_uprisng_decision_asia = {
		icon = generic_civil_support
		days_remove = 120
		cost = 200
		visible = { 
			original_tag = LUX 
		}
		available = {
			FROM  = {
				LUX_triggers_check_FROM_uprising = yes
			} 
			has_government = communism
		}
		icon = generic_civil_support
		modifier = { 
			political_power_cost = 0.65 
			political_power_gain = 0.95 
			stability_factor = -0.02
		}
		target_trigger = { 
			FROM = { 
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
				NOT = {
                    has_government = communism
					original_tag = ROOT
					is_subject_of = ROOT
				}
				capital_scope = { 
					is_on_continent = asia 
				} 
			}
		}
		fire_only_once = yes
		ai_will_do = {
			base = 10
		}
		remove_effect = {
		    set_country_flag = LUX_start_communist_uprising
				FROM = {
					start_civil_war = {
						ideology = FROM
						ruling_party = communism
						keep_political_leader = yes
						keep_political_party_members = yes
					}
					add_opinion_modifier = {
						target = ROOT
						modifier = comrade_revolution
					}
					add_ideas = spirit_revolution
					set_country_flag = general_start_workers_uprisng
				}
				set_autonomy = {
					target = FROM
					autonomous_state = autonomy_republic
					end_wars = no
					end_civil_wars = no
				}
	    }
    }
	LUX_uprisng_decision_africa = {
		icon = generic_civil_support
		visible = { 
			original_tag = LUX 
		}
		available = {
		 FROM = { 
			LUX_triggers_check_FROM_uprising = yes
		    has_government = communism
	    }}
		modifier = { 
			political_power_cost = 0.65 
			political_power_gain = 0.95 
			stability_factor = -0.02
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
				NOT = {
                    has_government = communism
				}
			}
		}
		days_remove = 120
		fire_only_once = yes
		cost = 175
		ai_will_do = {
			base = 10
		}
		remove_effect = {
			FROM = {
				start_civil_war = {
					ideology = FROM
					ruling_party = communism
					keep_political_leader = yes
					keep_political_party_members = yes
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = comrade_revolution
				}
				add_ideas = spirit_revolution
				set_country_flag = general_start_workers_uprisng
			}
			set_autonomy = {
				target = FROM
				autonomous_state = autonomy_republic
				end_wars = no
				end_civil_wars = no
			}
		}
	}
}
#foreign policy
foreign_politics = {
	LUX_send_ultimatum = {
		visible = { 
			original_tag = LUX
			has_completed_focus = LUX_ultimattus_to_benelux
			always = no
		}
		available = {
            NOT = {
				has_country_flag = LUX_send_ultimatum_flag
			}
			NOT = {
				has_war_with = FROM
			}
		}
		target_trigger = {
			FROM = {
				has_civil_war = no
			}
		}
		targets = {
			HOL
			BEL
		}
		war_with_on_complete = FROM
		icon = hol_exchange_intelligence_data
		modifier = {
			political_power_cost = 0.15
		}
		days_remove = 30
		fire_only_once = yes
		cost = 100
		ai_will_do = {
			base = 10
		}
		complete_effect = {
            set_country_flag = LUX_send_ultimatum_flag
		}
		remove_effect = {
		if = {
			limit = {
				FROM  ={
					original_tag = HOL
				}
			}
			FROM = {
				country_event = { id = LUX_ultimatus.3 hours = 16 random_hours = 8 }
			}
		}
		if = {
			limit = {
				FROM  = {
					original_tag = BEL
				}
			}
			FROM = {
				country_event = { id = LUX_ultimatus.4 hours = 16 random_hours = 8 }
			}
		}
			clr_country_flag = LUX_send_ultimatum_flag
	    }
	}
    LUX_communism_pressure_to_benelux = {
		visible = { 
			original_tag = LUX
		}
		available = {
            NOT = {
				has_country_flag = LUX_making_pressue_flag
			}
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
			}
		}
		targets = {
			HOL
			BEL
		}
		icon = hol_exchange_intelligence_data
		modifier = {
			political_power_cost = 0.15
		}
		targeted_modifier = {
			tag = PREV
			communism_drift = 0.05
		}
		days_remove = 30
		fire_only_once = yes
		cost = 150
		ai_will_do = {
			base = 10
		}
		complete_effect = {
            set_country_flag = LUX_making_pressue_flag
		}
		remove_effect = {
			clr_country_flag = LUX_making_pressue_flag
			FROM = {
			    add_ideas = LUX_communist_prussure_benelux
			}
	    }
	}
	LUX_communism_coup_in_benelux = {
		visible = { 
			original_tag = LUX
		}
		available = {
            NOT = {
				has_country_flag = LUX_making_coup_flag
			}
			FROM = {
				communism > 0.40
			}
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
			}
		}
		targets = {
			HOL
			BEL
		}
		icon = hol_exchange_intelligence_data
		modifier = {
			political_power_cost = 0.15
		}
		targeted_modifier = {
			tag = PREV
			communism_drift = 0.05
		}
		days_remove = 30
		fire_only_once = yes
		cost = 150
		ai_will_do = {
			base = 10
		}
		complete_effect = {
            set_country_flag = LUX_making_coup_flag
		}
		remove_effect = {
			clr_country_flag = LUX_making_coup_flag
			FROM = {
			    set_politics = {
					ruling_party = communism
					elections_allowed = no
					last_election = "1935.12.17"
					election_frequency = 48
				}
				add_popularity = {
					ideology = communism
					popularity = 0.70
				}
			}
	    }
	}
	LUX_communism_join_faction = {
		visible = { 
			original_tag = LUX
			FROM = {
				NOT = {
					is_ally_with = ROOT
				}
			}
			is_in_faction = yes
		}
		available = {
			FROM = {
				OR = {
				has_government = communism
				communism > 0.50
			    }
			}
		}
		target_trigger = {
			FROM = {
				exists = yes 
                NOT = {
					has_war_with = ROOT
				}
				has_civil_war = no
			}
		}
		targets = {
			HOL
			BEL
		}
		icon = eng_trade_unions_support
		modifier = {
			political_power_cost = 0.15
		}
		targeted_modifier = {
			tag = FROM
			communism_drift = 0.05
		}
		days_remove = 30
		fire_only_once = no
		cost = 150
		ai_will_do = {
			base = 10
		}
		complete_effect = {
            set_country_flag = LUX_making_coup_flag
		}
		remove_effect = {
			clr_country_flag = LUX_making_coup_flag
			FROM = {
                country_event = LUX_diplomacy.7
			}
	    }
	}
	LUX_demand_french_core_state = {
		fire_only_once = no
		icon = eng_trade_unions_demand
		state_target = yes
		on_map_mode = map_and_decisions_view
		cost = 75
        target_trigger = {
			FROM = {
				is_owned_and_controlled_by = FRA
				NOT = {
				   is_claimed_by = ROOT
				}
			}
		}
		visible = {
		   original_tag = LUX
		   always = no
		}
		available = {
			FROM = {
				is_owned_and_controlled_by = FRA
			}
			NOT = {
				has_country_flag = LUX_is_demanding_state_flag
			}
			is_puppet = no
		}
		complete_effect = {
			set_variable = {
				LUX.is_demand_state = FROM
			}
			set_country_flag = LUX_is_demanding_state_flag
			fROM = {
				set_variable = {
					LUX.is_demand_state = THIS
				}
			}
		}
		remove_effect = {
			hidden_effect = {
				FROM = {
					controller = {
						country_event = {
							random_hours = 12
							days = 2
							id = LUX_joseph_besh_events.2
						}
					}
				}
			}
			custom_effect_tooltip = LUX_demand_french_core_state_tt
		}
		highlight_states = {
			highlight_states_trigger = {
				is_owned_and_controlled_by = FRA
				is_core_of = FRA
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		days_remove = 12
		days_re_enable = 14
	}
	LUX_pressure_on_gov = {
		fire_only_once = no
		visible = {
			original_tag = LUX
		}
		target_trigger = {
			FROM = {
				has_country_flag = pressure_target_flag
				is_puppet = no
			}
		}
		available = {
			NOT = {
				has_country_flag = pressuring_on_gov_falg
			}
			is_puppet = no
		}
		remove_effect = {
			clr_country_flag = pressuring_on_gov_falg
			FROM = {
                country_event = {
					id = LUX_joseph_besh_events.6
					random_hours = 12
					days = 1
				}
			}
			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				puppet = FROM
			}
		}
		complete_effect = {
			set_country_flag = pressuring_on_gov_falg
		}
		icon = eng_trade_unions_demand
		cost = 150
		days_remove = 35
		days_re_enable = 7
	}
	LUX_fascism_invate_to_faction = {
		available = {
			NOT = {
				has_war_with = FROM
			}
			is_subject = no
		}
		visible = {
			original_tag = LUX
			is_faction_leader = yes
			is_in_faction = yes
		}
		target_trigger = {
			FROM = {
				has_government = fascism
				is_in_faction = no
				is_subject = no
			}
		}
		remove_effect = {
			FROM = {
               country_event = {
				   id = LUX_diplomacy.15
				   days = 1
				   random_hours = 12
			   }
			}
			custom_effect_tooltip = LUX_fascism_invate_to_faction_tt
		}
		fire_only_once = no
		days_remove = 14
		cost = 50
		icon = eng_trade_unions_support
	}
	shared_out_from_friend_pact = {
		icon = eng_trade_unions_support
		cost = 25
		complete_effect = {
			if = {
				limit = { 
					has_idea = benelux_shared_friend_pact_member
				}
				remove_ideas = benelux_shared_friend_pact_member
			}
           else_if = {
			  limit = { 
				  has_idea = benelux_shared_friend_pact
			  }
			  remove_ideas = benelux_shared_friend_pact
		   }
		}
		visible = {
			has_country_flag = in_friend_pact_flag
		}
		available = {
			has_country_flag = in_friend_pact_flag
		}
	}
}
LUX_buy_air_category  = {
    LUX_buy_stormtroopers = {
		visible = { 
			original_tag = LUX 
		}
		available = { 
			has_capitulated = no
			NOT = {
				has_country_flag = LUX_send_requst_to_buy_flag
			}
		}
		icon = generic_operation
		modifier = { 
			political_power_cost = 1.00
			political_power_gain = -0.95
			consumer_goods_factor = 0.15
		}
		target_trigger = {
		   FROM  = {
			  exists = yes
			  NOT = {
				has_war_with = ROOT
			  }  
			  has_civil_war = no
		   }
		}
		
		targets = {
          ENG 
		  FRA 
		  USA
		}
		days_remove = 35
		fire_only_once = yes
		cost = 100
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
            FROM = {
                country_event = LUX_decisions.1
			}
			clr_country_flag = LUX_send_requst_to_buy_flag
	    }
		complete_effect = {
		    set_country_flag = LUX_send_requst_to_buy_flag
		}
		}
	LUX_buy_bombers2 = {
		visible = { 
			original_tag = LUX 
		}
		available = { 
			has_capitulated = no
			NOT = {
				has_country_flag = LUX_send_requst_to_buy_flag
			}
		}
		icon = generic_operation
		modifier = { 
			political_power_cost = 0.25
			political_power_gain = -0.10
			consumer_goods_factor = 0.15
		}
		target_trigger = {
		   FROM  = {
			  exists = yes
			  NOT = {
				has_war_with = ROOT
			  }  
			  has_capitulated = no
		   }
		}
		targets = {
			ENG 
			FRA 
			USA
		  }
		days_remove = 35
		fire_only_once = yes
		cost = 125
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
            FROM = {
				country_event = LUX_decisions.0
			}
			clr_country_flag = LUX_send_requst_to_buy_flag
		}
		complete_effect = {
			set_country_flag = LUX_send_requst_to_buy_flag
		}
	  }
}
LUX_prepere_to_coup_category = {
	#dicisions if Germany agreed to help in coup
	LUX_ask_equipment_from_GER  = {
		visible = { 
			original_tag = LUX 
			has_country_flag = LUX_delegation_to_germany_accepted_flag
		}
		available = { 
			NOT = {
				has_war_with = GER
			}
		}
		icon = generic_operation
		modifier = { 
			political_power_cost = 0.10
			fascism_drift = 0.05
		}
		days_remove = 60
		fire_only_once = yes
		cost = 50
		ai_will_do = { 
			base = 10
		}
		remove_effect = {

		}
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}
	#dicisions if Germany refused to help in coup
	LUX_crate_youth_fascism_organization  = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
		}
		available = { 

		}
		icon = generic_political_address
		modifier = { 
			political_power_cost = 0.10
			fascism_drift = 0.05
		}
		days_remove = 60
		fire_only_once = yes
		cost = 50
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
            set_country_flag = LUX_crate_youth_fascism_organization_flag
			add_ideas = LUX_youth_organization
		}
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}
	LUX_youth_fascism_organization_meeting  = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
		}
		available = { 
			NOT = {
				has_country_flag = anti_govermnet_acting_is_doing_flag
			}
		}
		icon = eng_propaganda_campaigns
		modifier = { 
			political_power_cost = 0.25
			fascism_drift = 0.10
		}
		days_remove = 14
		fire_only_once = no
		cost = 30
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
            add_stability = -0.05
		}
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			if = {
				limit = {
					NOT = {
						has_idea = LUX_youth_organization
					}
				}
				add_ideas = LUX_youth_organization
			}
		}
	}
	LUX_workers_supporting = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
		}
		available = { 
			NOT = {
				has_country_flag = anti_govermnet_acting_is_doing_flag
			}
		}
		icon = eng_propaganda_campaigns
		modifier = { 
			fascism_drift = 0.08
			communism_drift = 0.03
			stability_weekly = -0.001
		}
		days_remove = 35
		fire_only_once = no
		cost = 45
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.10
			}
		}
		complete_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
		}
	}
	LUX_anti_goverment_protest = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
		}
		available = { 
           NOT = {
			   has_country_flag = anti_govermnet_acting_is_doing_flag
		   }
		}
		icon = eng_propaganda_campaigns
		modifier = { 
			fascism_drift = 0.05
			stability_weekly = -0.005
		}
		days_remove = 14
		fire_only_once = no
		cost = 75
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
			random_list = {
				30 = {
					country_event = LUX_fascism.4
					effect_tooltip = {
						add_popularity = {
							ideology = fascism
							popularity = 0.10
						}
					}
				}
				70 = {
					country_event = LUX_fascism.5
					effect_tooltip = {
						add_popularity = {
							ideology = fascism
							popularity = -0.08
						}
						add_stability = -0.08
					}
				}
			}
			clr_country_flag = anti_govermnet_acting_is_doing_flag
		}
		complete_effect = {
			add_stability = -0.05
			set_country_flag = anti_govermnet_acting_is_doing_flag
		}
	}
	LUX_goverment_coup_execute = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
		}
		available = { 
            OR = {
				fascism > 0.55
				has_stability < 0.3
			}
			has_country_flag = LUX_goverment_use_force_flag
			NOT = {
				has_country_flag = anti_govermnet_acting_is_doing_flag
			}
		}
		icon = eng_propaganda_campaigns
		modifier = { 
			fascism_drift = 0.10
			stability_weekly = -0.010
		}
		fire_only_once = yes
		days_remove = 7
		cost = 125
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
				last_election = "1935.12.17"
				election_frequency = 48
			}
			country_event = LUX_fascism.6
			set_country_flag = LUX_fascism_coup_is_executed_flag
			effect_tooltip = {
				if  = {
					limit = {
						is_guaranteed_by = FRA
					}
					FRA = {
						diplomatic_relation = {
							country = ROOT
							relation = guarantee
							active = no
						}
					}
				}
				if  = {
					limit = {
						is_guaranteed_by = ENG
					}
					ENG = {
						diplomatic_relation = {
							country = ROOT
							relation = guarantee
							active = no
						}
					}
				}
			}
		}
		complete_effect = {
			add_stability = -0.1
		}
	}
	LUX_mission_complete_busnessmanman_requmpment = {
		days_mission_timeout = 140
		is_good = yes
		cancel_if_not_visible = yes
		fire_only_once = yes
		activation = {
          # original_tag = LUX
		   #has_completed_focus = LUX_ask_help_from_bussnessmen
		  # has_government = fascism
		  always = no
		}
		available = {

		}
		visible = {
           original_tag = LUX
		}
		timeout_effect = {
             swap_ideas = {
				remove_idea = support_from_industrialists
				add_idea = support_from_industrialists2
			 }
		}
		cancel_trigger = {
 
		}
		complete_effect  = {

		}
	}
	#Используется для времеенных предотвращенний рейдов на опозицию
	LUX_secure_opposstion = {
		visible = { 
			original_tag = LUX 
			NOT = {
				has_government = fascism
				has_government = communism
			}
			check_variable = {
				var = global.opposition_get_raid
				value = 1
			}
		}
		available = { 

		}
		icon = generic_civil_support
		modifier = { 
		}
		fire_only_once = no
		days_remove = 70
		cost = 150
		ai_will_do = { 
			base = 10
		}
		remove_effect = {
            clr_country_flag = opposition_secured_flag
		}
		complete_effect = {
			set_country_flag = opposition_secured_flag
			custom_effect_tooltip = LUX_opposition_secured_effect_tt
			#custom_effect_tooltip = LUX_opposition_secured_effect2_tt
		}
	}
}
LUX_liberation_war_category = {
   LUX_liberation_war_coming_mission = {
	days_mission_timeout = 140
	is_good = yes
	cancel_if_not_visible = yes
	fire_only_once = yes
	activation = {
	   original_tag = LUX
       has_country_flag = LUX_liberation_uprising_coming_flag
	}
	available = {

	}
	visible = {
	   original_tag = LUX
	}
	timeout_effect = {
		
	}
	cancel_trigger = {
		
	}
	complete_effect  = {

	}
   }
}
governments_in_exile = {
	LUX_communist_ask_for_exile = {
		target_trigger = {
			FROM = {
                has_government = communism
			}
	   }

	 icon = generic_prepare_civil_war
	 allowed = { tag = LUX }
	 available = {
		NOT = { has_country_flag = LUX_request_sent_flag }
		#NOT = { FROM = { is_in_faction_with = ITA } }
		FROM = {
           NOT = {
			  has_war_with = ROOT
		   }
		}
	 }

	 visible = {
		 #NOT = { has_country_flag = ETH_refused_forced_peace_flag } #ETH shouldn't be allowed back to ENG after refusing their demands for peace
	 }

	 fire_only_once = no
	 cost = 0
	 days_re_enable = 30

	 complete_effect = {
		 set_country_flag = LUX_request_sent_flag
		 FROM = {
			#country_event = {
			#	id = BBA_italo_ethiopian_war_events.100
			#	hours = 8
			#	random_hours = 6
			#}
		 }
		 custom_effect_tooltip = if_they_accept_tt
		 #custom_effect_tooltip = ETH_host_country_decision_tt
	 }

	# ai_will_do = {
	#	 base = 100
	#	 modifier = {
	#		 factor = 2
	#		 FROM = { tag = ENG }
	#	 }
	#	 modifier = {
	#		 factor = 2.5
	#		 FROM = { has_completed_focus = JAP_support_the_kodoha_faction } # Key members of the faction had good relations with the Ethiopians 
	#	 }
	#	 modifier = {
	#		 factor = 0.75
	#		 FROM = { has_government = ITA }
	#	 }
	 #}
	}
}
shared_benelux_economic_union_category = {
	shared_benelux_economic_union_go_out = {
		visible = {
            has_country_flag = member_of_economic_union_flag
			NOT = {
				has_global_flag = benelux_economic_union_dissolved_flag
			}
		}
		available = {
			has_country_flag = member_of_economic_union_flag
			has_war = no
		}
		complete_effect = {
			set_country_flag = go_out_from_beu_flag
			clr_country_flag = member_of_economic_union_flag
			remove_dynamic_modifier = {
				modifier = shared_member_benelux_economic_union_dynamic_modifier
			}
			var:leader_benelux_economic_union = {
				country_event = benelux_events.4
			}
		}
		ai_will_do = {
			base = 0
		}
		icon = generic_break_treaty
		cost = 50
	}
	leader_benelux_economic_union_dissolve = {
		visible = {
			has_country_flag = leader_of_benelux_economic_union_flag
			NOT = {
				has_global_flag = benelux_economic_union_dissolved_flag
			}
		}
		available = {
			has_country_flag = leader_of_benelux_economic_union_flag
			any_country = {
				has_country_flag = member_of_economic_union_flag
			}
		}
		complete_effect = {
			# custom_effect_tooltip = all_countriers_emmbers_tt
			every_other_country = {
				limit  = {
					has_country_flag = member_of_economic_union_flag
				}
				clr_country_flag = member_of_economic_union_flag
				remove_dynamic_modifier = {
					modifier = shared_member_benelux_economic_union_dynamic_modifier
				}
				clear_variable = leader_benelux_economic_union
				hidden_effect = {
					remove_ideas = member_economic_union_hidden
				}
			}
			remove_dynamic_modifier = {
				modifier = LUX_leader_benelux_economic_union_dynamic_modifier
			}
			set_global_flag = benelux_economic_union_dissolved_flag
			hidden_effect = {
				country_event = {
					id = benelux_news_events.9
					random_hours = 6
					days = 1
				}
			}
		}
		icon = generic_operation
		cost = 125
		ai_will_do = {
			base = 0
		}
	}
	leader_benelux_economic_union_development_colonies = {
		visible = {
			has_country_flag = leader_of_benelux_economic_union_flag
			NOT = {
				has_global_flag = benelux_economic_union_dissolved_flag
			}
		}
		available = {
			FROM = {
				has_country_flag = member_of_economic_union_flag
				any_controlled_state = {
                    is_owned_by = FROM
				}
			}
		}
		complete_effect = {
			
		}
		remove_effect = {
			FROM = {
				random_controlled_state = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				add_stability = 0.03
			}
		}
		target_trigger = {
			FROM = {
				has_country_flag = member_of_economic_union_flag
			}
		}
		days_remove = 45
		icon = generic_research
		cost = 75
	}
	shared_benelux_economic_union_support_resistence = {
		visible = {
			OR = {
			   has_country_flag = leader_of_benelux_economic_union_flag
			   has_country_flag = member_of_economic_union_flag
			}
			FROM = {
				has_capitulated = yes
			}
			NOT = {
				has_global_flag = benelux_economic_union_dissolved_flag
			}
		}
		available = {
			FROM = {
				any_owned_state = {
					is_core_of = FROM
					enemy_control_state = yes
					NOT = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
			has_equipment = {
				infantry_equipment > 24
			}
		}
		target_trigger = {
			FROM = {
				has_country_flag = member_of_economic_union_flag
			}
		}
		complete_effect = {
			FROM = {
				random_core_state = {
					add_resistance_target = 10
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -25
				producer = ROOT
			}
		}
		custom_cost_trigger = {
			check_variable = {
				num_equipment@infantry_equipment > 24
			}
		}
		ai_will_do = {
			base = 0
		}
		icon = generic_protection
		custom_cost_text = num_equipment_infantry_equipment_cost_25
	}
}
generic_research_category = {
	LUX_research_mission1 = {
		icon = generic_factory
		activation = {
			original_tag = LUX
			always = no
		}
		available = {
			num_of_military_factories > 2
		}
		visible = {
			original_tag = LUX
		}
		cancel_trigger = {
			
		}
		is_good = no
        complete_effect = {
			set_country_flag = LUX_research_mission1_completed_flag
			random_list = {
				25 = {
					modifier = {
						add = 10
					}
					add_tech_bonus = {
						bonus = 0.5
						uses = 2
						category = radar_tech
					}
				}
				25 = {
					add_tech_bonus = {
						bonus = 0.7
						uses = 1
						category = nuclear
					}
				}
				50 = {
					add_tech_bonus = {
						bonus = 0.5
						uses = 3
						category = construction_tech
					}
				}
			}
		}
		timeout_effect = {
			set_country_flag = LUX_research_mission1_failed_flag
			add_stability = -0.1
			add_political_power = -250
		}
		days_mission_timeout = 365
	}
	LUX_research_mission2 = {
		activation = {
			original_tag = LUX
			always = no
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		is_good = no
		visible = {
			original_tag = LUX
		}
		cancel_trigger = {
			
		}
        complete_effect = {
			
		}
		timeout_effect = {
			
		}
		icon = generic_industry
		days_mission_timeout = 365
	}
	LUX_research_mission3 = {
		activation = {
			original_tag = LUX
			always = no
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		is_good = no
		visible = {
			original_tag = LUX
		}
		cancel_trigger = {
			
		}
        complete_effect = {
			
		}
		timeout_effect = {
			
		}
		days_mission_timeout = 365
	}
}
LUX_luximburg_credits_category = {
	LUX_give_credits_decision = {
        icon = gold_bars
        targets = {
			FRA
			BEL
		}
		remove_effect = {
			FROM = {
				country_event = {
					id = LUX_economy.0
					days = 1
					random_hours = 6
				}
			}
			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				FROM  = {
					add_dynamic_modifier = {
						modifier = shared_credit_dynamic
					}
				}
			}
		}
		complete_effect = {
			set_country_flag = try_give_credit_to_county_flag
		}
		target_root_trigger = {
			FROM  = {
				exists = yes
				is_subject = no
			}
		}
		available = {
			NOT  = {
				has_war_with = FROM
			}
			country_exists = FROM
			NOT = {
				has_country_flag = try_give_credit_to_county_flag
			}
		}
		visible = {
			original_tag = LUX
		}
		cost = 150
		days_remove = 65
		days_re_enable = 7
	}
}
economy_decisions = {
	LUX_the_great_depression_mission = {
		available = {
			NOT = {
                has_dynamic_modifier = {
					modifier = LUX_the_great_depression
				}
			}
		}
		visible = {
			original_tag = LUX
		}
		is_good = no
		selectable_mission = no
		activation = {
			always = no
		}
		complete_effect = {
		#	add_dynamic_modifier = {
		#		modifier = LUX_the_great_depression
		#		days = 120
		#	}
		#	custom_effect_tooltip = LUX_the_great_depression_modify_tt
		#	add_to_variable = {
		#		var = LUX_the_great_depression_communism_drift_var
		#		value = -0.01
		#		tooltip = communism_drift_tt
		#	}
		#	add_to_variable = {
		#		var = LUX_the_great_depression_consumer_goods_factor_var
		#		value = -0.10
		#		tooltip = consumer_goods_factor_tt
		#	}
		#	add_to_variable = {
		#		var = LUX_the_great_depression_political_power_cost_var
		#		value = -0.05
		#		tooltip = political_power_cost_tt
		#	}
		add_stability = 0.10
		add_war_support = 0.05
		add_popularity = {
			ideology = democratic
			popularity = 0.10
		}
		}
		timeout_effect = {
			custom_effect_tooltip = LUX_the_great_depression_modify_tt
			add_to_variable = {
				var = LUX_the_great_depression_communism_drift_var
				value = 0.03
				tooltip = communism_drift_tt
			}
			add_to_variable = {
				var = LUX_the_great_depression_consumer_goods_factor_var
				value = 0.15
				tooltip = consumer_goods_factor_tt
			}
			add_to_variable = {
				var = LUX_the_great_depression_political_power_cost_var
				value = 0.10
				tooltip = political_power_cost_tt
			}
			country_event = LUX_economy.2
		}
		 days_mission_timeout = 365
	#days_mission_timeout = 1
		icon = gre_paying_ifc_debt
	}
	LUX_get_steel_from_state = {
		icon = steel
		state_target = yes
		on_map_mode = map_and_decisions_view
		available = {
			FROM = {
                is_owned_and_controlled_by = ROOT
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_steel_get_from_state
		}
		targets = {
			8
		}
		remove_effect = {
			add_resource = {
				type = steel
				amount = 5
				state = 8
			}
		}
		days_remove = 65
		cost = 75
	}
}
foreign_politics = {
	benelux_shared_set_base_in_state = {
		state_target = yes
		on_map_mode = decision_view_only
        target_trigger = {
			FROM = {
				is_benelux_state_trigger = yes
				controller = {
					OR  = {
						tag = BEL
						tag = HOL
					}
				}
				is_capital = yes
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 8 # Luxembourg
				state = 34 # Wallonie
				state = 6 # Wallonie
				state = 35 # Gelderland
				state = 7 # Holland
				state = 36 # Friesland
			}}
		visible = {
			NOT = {
				has_country_flag = benelux_state_base_is_set_flag
			}
		}
		available = {
			FROM = {
				controller = {
					is_in_faction_with = ROOT
				}
			}
		}
		complete_effect = {
			FROM = {
				set_state_flag = benelux_base_is_set_flag
				add_dynamic_modifier = {
					modifier = state_faction_modifier
				}
			}
			set_variable = {
				is_benelux_state_base = FROM
			}
			set_country_flag = benelux_state_base_is_set_flag
		}
		fire_only_once = yes
		target_root_trigger = {
			has_completed_focus = LUX_benelux_base
		}
		icon = generic_operation
		cost = 50
}}
LUX_army_dicisions_category = {
	LUX_propaganda_military_goverment = {
        icon = generic_army_support
		available = {
			always = yes
		}
		complete_effect = {
			
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
		}
		modifier = {
			neutrality_drift = 0.02
		}
		days_remove = 35
	}
    LUX_make_unstability_in_army = {
        icon = generic_civil_support
		available = {
			always = yes
			has_equipment = {
				infantry_equipment > 49
			}
		}
		complete_effect = {
			add_stability = -0.10
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -50
					producer = ROOT
				}
			}
		}
		remove_effect = {
			add_popularity = {
				ideology = ROOT
				popularity = -0.08
			}
		}
		modifier = {
			neutrality_drift = 0.04
		}
		custom_cost_trigger = {
			check_variable = {
				var = num_equipment@infantry_equipment
				value = 50
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = custom_cost_trigger_50_infantry_equipment
		days_remove = 75
	}
	LUX_shake_up_army_loyalty = {
		icon = generic_prepare_civil_war
		available = {
			always = yes
		}
		complete_effect = {
			add_stability = -0.05
			hidden_effect = {
				
			}
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.02
			}
		}
		modifier = {
			neutrality_drift = 0.05
		}
		days_remove = 30
		custom_cost_trigger = {
			has_army_experience > 4
		}
		custom_cost_text = custom_cost_trigger_has_army_experience_5
	}
}
LUX_workers_revolution_category = {
	LUX_create_wargoal_workers_war_minor = {
		icon = generic_operation
        target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				is_major = no
			}
		}
		available = {
			is_subject = no
			has_government = communism
			is_neighbor_of = FROM
		}
		visible = {
			original_tag = LUX
		}
		highlight_states = {
			highlight_states_trigger = {
				is_capital = yes
				is_controlled_by = FROM
				NOT = {
				    is_controlled_by = ROOT
				}
			}
		}
		remove_effect = {
			create_wargoal = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
		complete_effect = {
			FROM = {
				add_timed_idea = {
					idea = communist_influence
					days = 180
				}
		    }
		}
		#targeted_modifier = {
		#	tag = FROM
		#	attack_bonus_against = 0.10
		#	defense_bonus_against = 0.10
		#}
		days_remove = 75
		cost = 100
	}
	LUX_create_wargoal_workers_war_major = {
		icon = generic_operation
		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				is_major = yes
		NOT = {
			has_war_with = ROOT
		}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				is_capital = yes
				is_controlled_by = FROM
				NOT = {
				    is_controlled_by = ROOT
				}
			}
		}
		available = {
			is_subject = no
			has_government = communism
            is_neighbor_of = FROM
			FROM = {
				communism > 0.3
			}
		}
		target_root_trigger = {
			original_tag = LUX
		}
		remove_effect = {
			create_wargoal = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
		complete_effect = {
            FROM = {
				set_country_flag = LUX_mark_as_operationg_target_flag 
		    }
		}
		modifier = {
			political_power_cost = 0.05
		}
		#targeted_modifier = {
		#	tag = FROM
		#	attack_bonus_against = 0.15
		#	defense_bonus_against = 0.15
		#}
		days_remove = 75
		cost = 125
	}
	LUX_communism_propaganda = {
		icon = eng_propaganda_campaigns
		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				NOT = {
					has_government = communism
				}
			}
		}
		highlight_states = {
			highlight_states_trigger = {
				is_capital = yes
				is_controlled_by = FROM
				NOT = {
				    is_controlled_by = ROOT
				}
			}
		}
		available = {
			is_subject = no
			has_government = communism
            is_neighbor_of = FROM
		}
		remove_effect = {
			FROM = {
				add_timed_idea = {
					idea = communist_influence
					days = 365
				}
		    }
		}
		target_root_trigger = {
#			has_completed_focus = LUX_explore_revolution
		}
		targeted_modifier = {
			tag = FROM
			communism_drift = 0.05
		}
		visible = {
			always = no
		}
		modifier = {
			political_power_cost = 0.10
		}
		complete_effect = {

		}
		allowed = {
			always = yes
		}
		days_remove = 30
		cost = 30
	}
	LUX_operation_bonuses = {
		icon = generic_industry
        target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				has_war_with = ROOT
				NOT = {
					has_government = communism
				}
			}
		}
		available = {
			has_equipment = {
				infantry_equipment > 149
			}
			has_war_with = FROM
			has_government = communism
		}
		target_root_trigger = {
			original_tag = LUX
		}
		remove_effect = {
			
		}
		targeted_modifier = {
			tag = FROM
			attack_bonus_against = 0.10
			defense_bonus_against = 0.15
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -150
					producer = ROOT
				}
			}
		}
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 149
			}
		}
		custom_cost_text = has_infantry_equipment_150
		days_remove = 60
	}
	LUX_start_workers_revolution_in_target_country = {
        target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_neighbor_of = ROOT
				NOT = {
					has_government = communism
				}
			}
		}
		icon = generic_prepare_civil_war
		highlight_states = {
			highlight_states_trigger = {
				is_capital = yes
				is_controlled_by = FROM
				NOT = {
				    is_controlled_by = ROOT
				}
			}
		}
        target_root_trigger = {
			original_tag = LUX
		}
		available = {
			FROM = {
				communism > 0.4
			}
			is_subject = no
			has_government = communism
            is_neighbor_of = FROM
		}
		remove_effect = {
			FROM = {
				start_civil_war = {
					ideology = communism
					size = 0.35
					army_ratio = 0.6
					navy_ratio = 1
					air_ratio = 1
				#	keep_all_characters = yes
				#	PREV = {  # Original country
                #      
				#	}
                    add_ideas = shared_fire_of_revolution
				}
			}
			custom_effect_tooltip = after_over_cw_tt
			effect_tooltip = {
				add_political_power = 125
				add_war_support = 0.03
			}
		}
		complete_effect = {
			FROM = {
				set_country_flag = workers_revolution_in_action_flag
		    }  
			set_country_flag = LUX_start_workers_revolution_flag
	    }
	days_remove = 65
	cost = 125
}
LUX_support_revolution_target_country_2 = {
	target_trigger = {
		FROM = {
			has_country_flag = workers_revolution_in_action_flag
		}
	}
	available = {
		
	}
	target_root_trigger = {
		original_tag = LUX
	}
}
LUX_ask_for_intergtration_into_ROOT = {
  target_trigger = {
	FROM = {
		has_country_flag = workers_revolution_in_action_flag
	}
  }
  available = {
	FROM = {
		has_civil_war = no
	}
  }
  target_root_trigger = {
	 original_tag = LUX
  }
  complete_effect = {
	
  }
  remove_effect = {
	  FROM = {
		   # there will be event for inntergration
	  }
	  custom_effect_tooltip = if_they_accept_tt
	  effect_tooltip = {
		set_autonomy = {
			target = FROM
			autonomous_state = autonomy_republic
		}
	  }
  }
  days_remove = 30
  cost = 75
  }
}
LUX_revolution_goverment_category = {

}
foreign_politics = {
	LUX_puppet_puppet_allies = {
		icon = eng_trade_unions_support
		target_trigger = {
			FROM = {
				is_in_faction_with = ROOT
				is_subject = no
			}
		}
		target_root_trigger = {

		}
		available = {
			NOT = {
				has_country_flag = suggest_ptrotecting_to_allies_flag
			}
			is_subject = no
		}
		visible = {
			original_tag = LUX
		}
		complete_effect = {
            set_country_flag = suggest_ptrotecting_to_allies_flag
		}
		remove_effect = {
			FROM = {
                country_event = {
					id = LUX_decisions.0
					days = 1
					random_hours = 12
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				puppet = fROM
			}
		}
		days_remove = 14
		cost = 50
	}
	LUX_demands_great_luxembourg = {
		icon = eng_trade_unions_demand
		state_target = yes
		target_trigger = {
			FROM = {
				OR = {
					state = 29
					state = 51
					state = 42
				}
				NOT = {
					is_controlled_by = ROOT
				}
			}
		}
		target_root_trigger = {

		}
		visible = {
			original_tag = LUX
			always = no
		}
		available = {
			FROM = {
                is_fully_controlled_by = var:FROM.controller
			}
			NOT = {
				has_war_with = var:FROM.controller
				has_wargoal_against = var:FROM.controller
				has_non_aggression_pact_with = var:FROM.controller
				is_in_faction_with = var:FROM.controller
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 29
				state = 51
				state = 42
			}
		}
		complete_effect = {
			FROM =  {
			   save_event_target_as = demand_state_target
			}
			var:FROM.controller = {
				country_event = {
					id = LUX_decisions.3
					random_hours = 12
					days = 1
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				transfer_state = FROM
			}
			event_target:mediator_of_LUX = {
				country_event = LUX_decisions.9
			}
		}
		#remove_effect = {
		#	var:FROM.controller = {
		#		country_event = LUX_demand_events.6
		#	}
		#	custom_effect_tooltip = if_they_accept_tt
		#	effect_tooltip = {
		#		transfer_state = FROM
		#	}
		#}
		cost = 50
	}
	LUX_pressure_country_government_benilux = {
		name = FIN_pressure_country_government_nordic
		icon = generic_political_discourse
		targets = {
			BEL HOL
		}
		target_trigger = {
			SOV_basic_pressure_government_triggers = yes #Reusable
		}

		target_root_trigger = {
			has_completed_focus = LUX_benilux_creation_unite
			is_subject = no
		}

		allowed = {
			original_tag = LUX
		}

		available = {
			is_faction_leader = yes
			FROM = {
				has_opinion = {
					target = ROOT
					value > 49
				}
				SOV_is_valid_subject = yes # Reusable
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = FIN_pressure_government_active_flag }
		}

		visible = {
		}

		days_remove = FIN_pressure_government_days

		days_re_enable = FIN_pressure_government_cd

		cost = FIN_pressure_country_government_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			set_country_flag = FIN_pressure_government_active_flag
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.1 hours = 4 random_hours = 2 } #Reusable
				set_country_flag = FIN_government_pressured_flag #For AI weights - don't spam
			}
			clr_country_flag = FIN_pressure_government_active_flag
			custom_effect_tooltip = SOV_pressure_government_effects_tt
			custom_effect_tooltip = FIN_pressure_government_cd_tt
		}
	}
	LUX_promote_ideology_rallies_benilux = {
		name = FIN_promote_ideology_rallies_baltic
		icon = generic_political_rally

		ai_will_do = {
			base = 1
			modifier = {
				factor = 2
				has_political_power > 160
			}
		}

		targets = { BEL HOL }

		target_trigger = {
			SOV_basic_promote_rallies_triggers = yes #Reusable
		}

		target_root_trigger = {
			has_completed_focus = LUX_benilux_creation_unite
		}

		allowed = {
			original_tag = LUX
		}

		available = {
			FROM = {
				SOV_is_valid_subject = yes #Reusable
				NOT = { has_war_with = ROOT }
			}
		}

		visible = {
		}

		days_remove = FIN_ideological_rallies_days

		fire_only_once = yes

		cost = FIN_promote_ideology_rallies_cost

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
		}

		remove_effect = {
			FROM = {
				country_event = { id = NSB_soviet_foreign_politics_events.2 hours = 4 random_hours = 2 }
			}
			custom_effect_tooltip = SOV_promote_rallies_effects_tt
			custom_effect_tooltip = SOV_promote_ideological_rallies_cd_tt
		}
	}
}
form_united_netherlands_category = {

	form_united_netherlands = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = HOL
				original_tag = LUX
			}
		}

		available = {
			is_subject = no
			controls_state = 8
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				controls_state = 7
				controls_state = 35
				controls_state = 36
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 6
				controls_state = 34
				controls_state = 977
				controls_state = 980
			}
			if = {
				limit = {
					original_tag = LUX
				}
				has_completed_focus = LUX_cancel_treaty_of_london
			}
		}

		visible = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
			}
			NOT = { has_global_flag = form_united_netherlands_flag }
			NOT = { has_global_flag = HOL_benelux_formed }
		}

		complete_effect = {
			set_cosmetic_tag = UNL_UNIFIED
			8 = { add_core_of = ROOT }
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt
			hidden_effect = {
				7 = { add_core_of = ROOT }
				35 = { add_core_of = ROOT }
				36 = { add_core_of = ROOT }
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				6 = { add_core_of = ROOT }
				34 = { add_core_of = ROOT }
				977 = { add_core_of = ROOT }
				980 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.58 hours = 6 }
				set_global_flag = form_united_netherlands_flag
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 7
				state = 35
				state = 36
				state = 6
				state = 34
				state = 977
				state = 980
				state = 8
			}
		}
		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
form_great_luxembourg_category = {
	LUX_form_great_luxembourg = {
		icon = infiltrate_state
		allowed = {
			tag = LUX
		}
		fire_only_once = yes
		highlight_states = {
			highlight_state_targets = {
				state = 7
				state = 35
				state = 36
				state = 6
				state = 34
				state = 977
				state = 980
				state = 8
				state = 29
				state = 51
				state = 42
			}
		}
		available = {
			controls_state = 7
			controls_state = 35
			controls_state = 36
			controls_state = 6
			controls_state = 34
			controls_state = 8
			controls_state = 29
			controls_state = 51
			controls_state = 42
			controls_state = 977
			controls_state = 980
			is_subject = no
		}
		complete_effect = {
			every_state = {
				limit = {
					OR = {
					    state = 7
						state = 35
						state = 36
						state = 6
						state = 34
						state = 977
						state = 980
						state = 8
						state = 29
						state = 51
						state = 42
					}
				}
				add_core_of = ROOT
			}
			custom_effect_tooltip = cosmetic_tag_LUX_great_luxembourg_cosmetic_neatrality_tt
			hidden_effect = {
				news_event = {
						id = LUX_demand_events.5
						days = 1
						random_hours = 6
					}
				drop_cosmetic_tag = yes
				set_cosmetic_tag = LUX_great_luxembourg
			}
			set_global_flag = formation_of_great_luxembourg_flag
		}
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_great_luxembourg_focus
		}
	}
}
foreign_politics = {
    LUX_turn_to_shared = {
		icon = hol_exchange_intelligence_data
        visible = {
			original_tag = LUX
			ROOT = {
				NOT = {
					has_country_flag = is_mediator_found_flag
				}
			}
		}
		available = {
			NOT = {
				AND = {
					has_country_flag = is_mediator_found_flag
					has_war_with = FROM
				}
			}
			FROM = {
				NOT = {
					has_country_flag = is_mediator_for_LUX_flag
				}
				NOT = {
					controls_state = 29
					controls_state = 51
					controls_state = 42
				}
			}
		}
		target_trigger = {
			FROM = {
				capital_scope = {
					is_on_continent = europe
				}
				is_major = yes
			}
		}
		complete_effect = {
			
		}
		remove_effect = {
			FROM = {
				country_event = LUX_decisions.6
			}
		}
		cost = 30
		days_remove = 7
	}
	LUX_send_ultimatum_to_africa_country = {
		icon = eng_trade_unions_demand
		target_trigger = {
			FROM = {
				capital_scope = {
					is_on_continent = africa
				}
				NOT = {
					is_subject_of = ROOT
				}
				is_subject = no
			}
		}
		visible = {
			original_tag = LUX
		}
		available = {
			NOT = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
			FROM = {
				has_war = no
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_ultimatum_to_africa
		}
		cost = 50
		cancel_trigger = {
			OR = {
				NOT = {
					country_exists = FROM
				}
				FROM = {
					has_war = yes
				}
				has_wargoal_against = FROM
			}
		}
		war_with_on_complete = FROM
		remove_effect = {
			FROM = {
               country_event = {
				   id = LUX_diplomacy.18
				   random_hours = 24
				   random_days = 3
			    }
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				if = {
					limit = {
						has_dlc = "Together for Victory"
					}
					set_autonomy = {
						target = FROM
						autonomy_state = autonomy_colony
					}
				}
				else = {
					puppet = FROM
				}
			}
			custom_effect_tooltip = if_they_reject
			effect_tooltip = {
				create_wargoal = {
					target = FROM
					type = puppet_wargoal_focus
				}
			}
		}
		complete_effect = {
			
		}
		days_remove = 14
	}
}
political_actions = {
	LUX_arrest_communist_party_leader = {
		icon = generic_arrest
		cost = 50
		complete_effect = {
		}
		modifier = {
			communism_drift = -0.05
		}
		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = -0.25
			}
			retire_ideology_leader = communism
		}
		allowed = {
			always = no
		}
		visible = {
			original_tag = LUX
		}
		fire_only_once = yes
		days_remove = 30
	}
	LUX_arrest_democrartic_party_leader = {
		icon = generic_arrest
		cost = 50
		complete_effect = {
		}
		modifier = {
			democratic_drift = -0.05
		}
		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = -0.25
			}
			retire_ideology_leader = democratic
		}
		allowed = {
			always = no
		}
		visible = {
			original_tag = LUX
		}
		fire_only_once = yes
		days_remove = 30
	}
	LUX_suppressing_neutrality_party = {
		icon = generic_police_action
		visible = {
			original_tag = LUX
		}
		available = {
			neutrality > 0.1
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = -0.1
			}
		}
		allowed = {
			always = no
		}
		cost = 35
		modifier = {
			neutrality_drift = -0.1
		}
		days_remove = 90
	}
	LUx_fascism_propaganda = {
		icon = generic_civil_support
		cost = 30
		modifier = {
			fascism_drift = 0.1
		}
		visible = {
			original_tag = LUX
		}
		allowed = {
			always = no
		}
		available = {
			has_government = fascism
		}
		days_remove = 75
	}
	ban_non_gov_media = {
		icon = generic_arrest
		cost = 150
		visible = {
			original_tag = LUX
		}
		available = {
			
		}
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
		cancel_trigger = {
			NOT = {
			   has_government = fascism
			}
		}
		allowed = {
			always = no
		}
		days_remove = -1
		modifier = {
			communism_drift = -0.03
			democratic_drift = -0.03
			neutrality_drift = -0.03
		}
	}
	LUX_get_workers_support = {
        icon = generic_civil_support
		remove_effect = {
			add_to_variable = {
				var = dicisions_in_action_con
				value = -1
			}
		}
		complete_effect = {
			add_stability = -0.05
			add_to_variable = {
				var = dicisions_in_action_con
				value = 1
			}
		}
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_workers_support
		}
		available = {
			dicisions_in_action_con_trigger = yes
		}
		modifier = {
			communism_drift = 0.02
			civilian_factory_use = 1
			stability_weekly = -0.001
		}
		days_remove = 125
		cost = 40
	}
	LUX_radical_workers = {
        icon = generic_political_rally
		remove_effect = {
			add_to_variable = {
				var = dicisions_in_action_con
				value = -1
			}
		}
		complete_effect = {
			add_to_variable = {
				var = dicisions_in_action_con
				value = 1
			}
			add_stability = -0.03
		}
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_crate_workers_partisan_movement
		}
		modifier = {
			political_power_cost = 0.1
			communism_drift = 0.04
		}
		available = {
			dicisions_in_action_con_trigger = yes
		}
		days_remove = 50
        cost = 50
	}
	LUX_sabotage_factories = {
        icon = generic_factory
		remove_effect = {
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}
			add_war_support = -0.05
			add_stability = -0.1
			add_to_variable = {
				var = dicisions_in_action_con
				value = -1
			}
		}
		complete_effect = {
			every_controlled_state = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
			}
			add_to_variable = {
				var = dicisions_in_action_con
				value = 1
			}
		}
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_sabotage_production
		}
		available = {
			any_controlled_state = {
				is_fully_controlled_by = ROOT
			}
			dicisions_in_action_con_trigger = yes
		}
		modifier = {
			research_speed_factor = -0.10
			production_speed_buildings_factor = -0.20
			consumer_goods_factor = 0.35
			communism_drift = 0.05
		}
		days_remove = 75
		cost = 75
	}
	LUX_protect_trade_unions = {
		icon = generic_consumer_goods
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_protect_trade_nuions
		}
		available = {
			dicisions_in_action_con_trigger = yes
		}
		complete_effect = {
			add_to_variable = {
				var = dicisions_in_action_con
				value = 1
			}
			add_popularity = {
				ideology = communism
				popularity = 0.10
			}
		}
		modifier = {
			communism_drift = 0.05
			consumer_goods_factor = -0.10
			production_factory_efficiency_gain_factor = 0.10
		}
		days_remove = -1
		cost = 85
	}
}
border_conflict_category = {
	LUX_start_border_conflict_with_owner_29 = {
		icon = border_war
		available = {
			8 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			28 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			has_border_war = no
		}
		highlight_states = {
			highlight_state_targets = {
				state = 8
				state = 28
			}
		}
		visible = {
			original_tag = LUX
			always = no
		}
		complete_effect = {
			#add warnining for 28 state owner avbout soon border conflict
			hidden_effect = {
				set_variable = {
					var_target_for_attack = 28.owner
				}
			}
		}
        remove_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 8
					num_provinces = 1
					on_win = LUX_political_events.13 #get 29 state
					on_lose = LUX_political_events.14
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = 28
					num_provinces = 1
					on_win = japan_border_conflict.3
					on_lose = LUX_political_events.13
				}
			}
		}		
		cost = 75
		days_remove = 30
	}
	LUX_start_border_conflict_with_owner_42 = {
		icon = border_war
		complete_effect = {
			hidden_effect = {
				set_variable = {
					var_target_for_attack = 42.owner
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 8
				state = 42
			}
		}
		remove_effect = {
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = 8
					num_provinces = 1
					on_win = LUX_political_events.13 #get 42 state
					on_lose = LUX_political_events.14
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = 42
					num_provinces = 1
					on_win = japan_border_conflict.3
					on_lose = LUX_political_events.13
				}
			}
		}
		available = {
			8 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			42 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			has_border_war = no
		}
		visible = {
			original_tag = LUX
			always = no
		}
		cost = 75
		days_remove = 30
	}
	LUX_start_border_conflict_with_owner_51 = {
		icon = border_war
		complete_effect = {
			hidden_effect = {
				set_variable = {
					var_target_for_attack = 51.owner
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 8
				state = 51
			}
		}
		remove_effect = {
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = 8
					num_provinces = 1
					on_win = LUX_political_events.13 #get 51 state
					on_lose = LUX_political_events.14
					dig_in_factor = 0
					terrain_factor = 0
				}	
				defender = {
					state = 51
					num_provinces = 1
					on_win = japan_border_conflict.3
					on_lose = LUX_political_events.13
				}
			}
		}
		available = {
			8 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			51 = {
				owner = {
					has_full_control_of_state = PREV
				}
			}
			has_border_war = no
		}
		visible = {
			original_tag = LUX
			always = no
		}
		cost = 75
		days_remove = 30
	}
	LUX_border_conflict_with_state_owner_29_mission = {
		icon = border_war
        visible = {
			original_tag = LUX
			has_completed_focus = LUX_demand_FRA_ter
		}
		is_good = no
		activation = {
			has_offensive_war_with = 29.owner
			always = no
		}
		available = {
			has_full_control_of_state = 29
		}
		cancel_trigger = {
			OR = {
				NOT = {
					has_war_with = 29.owner
				}
				NOT = {
				    country_exists = 29.owner
				}
			}
		}
		complete_effect = {
			var:29.owner = {
				country_event = {
					id = LUX_political_events.13
					hours = 4
				}
			}
		}
		days_mission_timeout = 215
	}
	LUX_border_conflict_with_state_owner_42_mission = {
		icon = border_war
        visible = {
			original_tag = LUX
		}
		activation = {
			has_offensive_war_with = 42.owner
			42 = {
				owner = {
					NOT = {
						owns_state = 51
					}
				}
			}
			always = no
		}
		available = {
			has_full_control_of_state = 42
		}
		cancel_trigger = {
			NOT = {
				has_war_with = 42.owner
			}
		}
		complete_effect = {
			var:42.owner = {
				country_event = {
					id = LUX_political_events.13
					hours = 4
				}
			}
		}
		is_good = no
		days_mission_timeout = 215
	}
	LUX_border_conflict_with_state_owner_51_mission = {
		icon = border_war
        visible = {
			original_tag = LUX
		}
		activation = {
			has_offensive_war_with = 51.owner
			51 = {
				owner = {
					NOT = {
						owns_state = 42
					}
				}
			}
			always = no
		}
		available = {
			has_full_control_of_state = 51
		}
		cancel_trigger = {
			NOT = {
				has_war_with = 51.owner
			}
		}
		complete_effect = {
			var:51.owner = {
				country_event = {
					id = LUX_political_events.13
					hours = 4
				}
			}
		}
		is_good = no
		days_mission_timeout = 215
	}
	LUX_border_conflict_with_state_owner_51_and_42_mission = {
		icon = border_war
        visible = {
			original_tag = LUX
		}
		activation = {
			has_offensive_war_with = 51.owner
			has_offensive_war_with = 42.owner
			51 = {
               owner = {
				    owns_state = 42
			   }
			}
			42 = {
				owner = {
					owns_state = 51
				}
			}
			always = no
		}
		available = {
			has_full_control_of_state = 51
			has_full_control_of_state = 42
		}
		cancel_trigger = {
			OR = {
				NOT = {
					has_war_with = 51.owner
				}
				NOT = {
				    country_exists = 51.owner
				}
			}
		}
		complete_effect = {
			var:51.owner = {
				country_event = {
					id = LUX_political_events.13
					hours = 4
				}
			}
		}
		is_good = no
		days_mission_timeout = 215
	}
	
}
foreign_politics = {
	send_ultimatum_to_benelux = {
		name = SOV_pressure_country_government_baltic
		icon = eng_trade_unions_demand
		visible = {
			original_tag = LUX
			always = no
		}
		target_root_trigger = {
			has_completed_focus = LUX_ultimattus_to_benelux
		}
		target_trigger = {
			FROM = {
				capital_scope = {
					region = 5
				}
			}
		}
		available = {
			NOT = {
				has_war_with = FROM
				has_wargoal_against = FROM
				has_non_aggression_pact_with = FROM
				has_attache_from = FROM
			}
			NOT = { has_country_flag = SOV_pressure_government_active_flag }
		}
		complete_effect = {
			set_country_flag = SOV_pressure_government_active_flag
		}
		remove_effect = {
			from = {
				country_event = {
					id = LUX_diplomacy.28
					days = 1
				}
			}
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				annex_country = {
					target = fROM
					transfer_troops = yes
				}
			}
			custom_effect_tooltip = if_they_reject
			effect_tooltip = {
				create_wargoal = {
					target = FROM
					type = annex_everything
				}
			}
		}
		war_with_target_on_remove = yes
		cost = 75
		days_remove = 14
	}
	LUX_integrate_benelux_puppet = {
		icon = generic_nationalism
		cost = 150
		targets = {
			BEL HOL
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		available = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_ultimattus_to_benelux
		}
		remove_effect = {
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
			add_threat = 2
		}
		complete_effect = {
			
		}
		days_remove = 30
	}
	LUX_send_delegation_to_FROM = {
		icon = hol_exchange_intelligence_data
		cost = 15
		days_remove = 15
		targets = {
			ENG
			USA
		}
		target_trigger = {
			NOT = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
		}
		visible = {
			original_tag = LUX
			NOT = {
				has_completed_focus = LUX_delegation_to_britain
				has_completed_focus = LUX_delegetaion_to_us
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_start_five_years_plan
		}
		available = {
			NOT = {
				has_country_flag = send_delegation_flag
			}
		}
		complete_effect = {
			set_country_flag = send_delegation_flag
		}
		remove_effect = {
			FROM = {
				country_event = {
					id = LUX_diplomacy.44
					hours = 6
				}
			}
		}
	}
	RHI_peace_with_occupier = {
		visible = {
			is_ai = yes
			tag = RHI
		}
		ai_will_do = {
			base = 100
		}
		fire_only_once = yes
		available = {
			has_global_flag = {
				flag = rhein_uprising_is_ongoing
				days > 15
			}
		}
		complete_effect = {
			every_enemy_country = {
				white_peace = ROOT
			}
		}
	}
	LUX_cancel_luxembourg_neutrality = { 
		icon = eng_trade_unions_support
		ai_will_do = {
			factor = 0
            
		}
		visible = {
			tag = LUX
			OR = {
				has_idea = LUX_idea_neutrality
				has_idea = neutrality_idea
			}
		}
		available = {
			hidden_trigger = {
				OR = {
					has_idea = LUX_idea_neutrality
					has_idea = neutrality_idea
				}
			}
			OR = {
                threat > 0.3
				has_war = yes
				any_other_country = {
					OR = {
						is_justifying_wargoal_against = ROOT
						has_wargoal_against = ROOT
					}
				}
			}
		}
		complete_effect = {
			if = {
				limit = {
						has_idea = neutrality_idea
					}
				remove_ideas = neutrality_idea
			}
			else_if = {
				limit = { 
					has_idea = LUX_idea_neutrality
				}
				remove_ideas = LUX_idea_neutrality
			}
			every_other_country = {
				limit = {
					OR = {
						original_tag = FRA
						original_tag = ENG
					}
					is_guaranteed_by = PREV
				}
				country_event = {
					id = LUX_political_events.1
					random_hours = 12
					days = 1
				}
			}
			hidden_effect = {
				news_event = {
					id = LUX_political_events_news.0
					random_hours = 24
					days = 1
				}
			}
		}
		cost = 15
	}
	# wil be made as event
#	LUX_ask_for_peace_and_made_FROM_puppet = {
#		target_trigger = {
#			FROM = {
#				has_defensive_war_with = ROOT
#				capital_scope = {
#					region = 5
#				}
#			}
#		}
#		available = {
#			FROM = {
#				OR = {
#					surrender_progress > 0.5
#					capital_scope = {
#						is_controlled_by = ROOT
#					}
#				}
#			}
#		}
#		remove_effect = {
#			
#		}
#	}
}
generic_trade_cat = {
	LUX_cancel_trade_with_target = {
		icon = generic_break_treaty
		cost = 15
		available = {

		}
		target_root_trigger = {
			original_tag = LUX
		}
		target_trigger = {
			FROM = {
                has_country_flag = has_trade_agreetment_with_LUX
			}
		}
		complete_effect = {
            if = {
				limit = {
					FROM = {
						original_tag = ENG
					}
				}
				remove_ideas = LUX_trade_with_allies
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = ITA
					}
				}
				remove_ideas = LUX_agreetmant_with_italy_ns
			}
			else_if = {
				limit = {
					FROM = {
						original_tag = GER
					}
				}
				remove_ideas = LUX_trade_with_axis
			}
			hidden_effect = {
				FROM = {
					clr_country_flag = has_trade_agreetment_with_LUX
				}
			}
		}
	}
}
operations = {
	LUX_democratic_coup_in_FROM = {
        icon = SWI_swiss_democratic_tradition_campaign
		target_trigger = {
			FROM = {
				NOT = {
					has_government = democratic
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_fight_against_tyranny
		}
		allowed = {
#			has_lar = no
		}
		available = {
			has_government = democratic
			FROM = {
				democratic > 0.45
			}
		}
		cancel_trigger = {
			FROM = {
				has_same_ideology = yes
			}
		}
		visible = {
			original_tag = LUX
			has_government = democratic
		}
		complete_effect = {
			
		}
		remove_effect = {
			FROM = {
				country_event = {
					id = LUX_political_events.17
					hours = 4
				}
			}
		}
		cost = 75
		days_remove = 45
	}
	LUX_support_democratic_party_in_FROM = {
		icon = generic_political_discourse
        target_trigger = {
			FROM = {
				NOT = {
					has_idea = democratic_influence
					has_government = democratic
				}
				capital_scope = {
					is_on_continent = europe
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = LUX_fight_against_tyranny
		}
		allowed = {
#			has_lar = no
		}
		available = {
			has_government = democratic
		}
		cancel_trigger = {
			FROM = {
				has_government = democratic
			}
		}
		visible = {
			original_tag = LUX
			has_government = democratic
		}
		complete_effect = {
			
		}
		targeted_modifier = {
			tag = FROM
			democratic_drift = 0.05
		}
		remove_effect = {
			FROM = {
				add_timed_idea = {
					idea = democratic_influence
					days = 120
				}
				country_event = {
					id = generic.1
					hours = 4
				}
			}
		}
		cost = 50
		days_remove = 30
	}
	LUX_support_urm_in_state = { 
		icon = generic_prepare_civil_war
        state_target = yes
		targets = {
			51 42
		}
		days_remove = 10
		visible = {
			tag = LUX
		}
		target_root_trigger = {
			has_completed_focus = LUX_reestablish_united_rhenish_movement
		}
		target_trigger = {
			from = {
				controller = {
					not = {
						tag = RHI
					}
				}
			}
		}
		cost = 15
		available = {
			has_equipment = {
				infantry_equipment > 99
			}
		}
		complete_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -100
				producer = ROOT
			}
		}
		remove_effect = {
			from = {
				add_resistance = 5
				add_resistance_target = 10
			}
		}
	}
	LUX_rhein_uprising_coming_mission = {
		icon = revolt
		selectable_mission = no
		is_good = yes
		available = {
			hidden_trigger = {
				always = no
			}
		}
		visible = {
			51 = {
               is_fully_controlled_by = ROOT
			}
			42 = {
				is_fully_controlled_by = ROOT
			}
		}
		activation = {
			51 = {
				has_resistance = yes
				resistance > 69
			}
			42 = {
				has_resistance = yes
				resistance > 69
			}
		}
		cancel_trigger = {

		}
		timeout_effect = {
			country_event = LUX_political_events.27
		}
		days_mission_timeout = 1
	}
}
economy_decisions = {
	LUX_shorten_working_shift = {
		cost = 75
		icon = generic_factory
		visible = {
			original_tag = LUX
			has_completed_focus = LUX_better_worker_conditions
		}
		available = {
			has_anarchist_government = yes
		}
		fire_only_once = no
		modifier = {
			stability_weekly = 0.005
			production_factory_efficiency_gain_factor = -0.05
		}
		remove_effect = {
			add_stability = 0.05
		}
		days_remove = 120
	}
	LUX_upgrade_machine_tools = { #get 1937 tech or 1939
	    cost = 100
	    icon = ger_military_buildup
        visible = {
			original_tag = LUX
			has_completed_focus = LUX_better_worker_conditions
		}
		fire_only_once = yes
		available = {
			has_anarchist_government = yes
		}
		modifier = {
			stability_weekly = 0.005
			production_factory_efficiency_gain_factor = 0.02
		}
		remove_effect = {
			if = {
				limit = { 
					NOT = {
						has_tech = basic_machine_tools
					}
				}
				set_technology = {
					basic_machine_tools = 1
				}
			}
			else_if = {
				limit = {
					has_tech = basic_machine_tools
					NOT = {
						has_tech = improved_machine_tools
					}
				}
				set_technology = {
					improved_machine_tools = 1
				}
			}
			else_if = {
				limit = { 
					has_tech = basic_machine_tools
					has_tech = improved_machine_tools
				}
				set_technology = {
					advanced_machine_tools = 1
				}
			}
			else = {
				add_stability = 0.1
				add_offsite_building = {
					type = industrial_complex
					level = 2
				}
			}
		}
		days_remove = 65
	}
	LUX_get_oil_from_8_state = {
		icon = oil
		state_target = yes
        targets = {
			8
		}
		cost = 50
		days_remove = 30
		visible = {
			original_tag = LUX
		}
		target_root_trigger = {
			has_completed_focus = LUX_get_oil
		}
		remove_effect = {
			add_resource = {
				type = oil
				amount = 10
				state = 8
			}
			FROM = {
				set_state_flag = oil_was_getted_from_state_flag
			}
		}
	}
}
propaganda_efforts = {
	LUX_open_luxembourg_radio = {
		icon = eng_trade_unions_support
		cost = 10
		visible = {
			original_tag = LUX
			has_idea = LUX_closed_luxembourg_radio_ns
		}
		available = {
			NOT = {
				has_war_with = ENG
			}
			country_exists = ENG
			has_country_flag = {
				flag = LUX_radio_is_closed_flag
				days > 60
			}
			has_war = no
		}
		complete_effect = {
			ENG = {
				remove_opinion_modifier = {
					target = ROOT
					modifier = accepted_GER_communications_request
				}
			}
			remove_ideas = LUX_closed_luxembourg_radio_ns
			clr_country_flag = LUX_radio_is_closed_flag
		}
	}
}
